<!DOCTYPE html>
<html>
<head>
	<title>Policy and Q values table</title>
	<!-- 引入Bootstrap樣式 -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<!-- 自定義CSS -->
	<style>
		.q-value {
			display: inline-block;
			margin-right: 10px;
			padding: 5px 10px;
			background-color: #e9ecef;
			border: 1px solid #dee2e6;
			border-radius: 3px;
		}

		.q-value-up {
			border-top: none;
            background-color: green;
		}

		.q-value-down {
			border-bottom: none;
            background-color: red;
		}

		.q-value-left {
			border-left: none;
		}

		.q-value-right {
			border-right: none;
		}
	</style>
</head>
<body>

	<h2>Policy Table</h2>
	<table class="table table-bordered">
		{% for i in range(n) %}
			<tr>
				{% for j in range(n) %}
                    
                    {% if (i,j) in obstacles %}
                        <td style="background-color: gray;">&#x2716;</td>
                    {% elif [i, j, 'up'] in policy[0] %}
                        {% if i == start[0] and j == start[1] %}
                            <td style="background-color: green;">&uarr;</td>
                        {% elif i == end[0] and j == end[1] %}
                            <td style="background-color: red;">&uarr;</td>
                        {% else %}
						    <td>&uarr;</td>
                        {% endif %}
					{% elif [i, j, 'down'] in policy[0] %}
                        {% if i == start[0] and j == start[1] %}
                            <td style="background-color: green;">&darr;</td>
                        {% elif i == end[0] and j == end[1] %}
                            <td style="background-color: red;">&darr;</td>
                        {% else %}
						    <td>&darr;</td>
                        {% endif %}
					{% elif [i, j, 'left'] in policy[0] %}
                        {% if i == start[0] and j == start[1] %}
                            <td style="background-color: green;">&larr;</td>
                        {% elif i == end[0] and j == end[1] %}
                            <td style="background-color: red;">&larr;</td>
                        {% else %}
						    <td>&larr;</td>
                        {% endif %}
					{% elif [i, j, 'right'] in policy[0] %}
                        {% if i == start[0] and j == start[1] %}
                            <td style="background-color: green;">&rarr;</td>
                        {% elif i == end[0] and j == end[1] %}
                            <td style="background-color: red;">&rarr;</td>
                        {% else %}
						    <td>&rarr;</td>
                        {% endif %}
					{% else %}
                        {% if i == start[0] and j == start[1] %}
                            <td style="background-color: green;">-</td>
                        {% elif i == end[0] and j == end[1] %}
                            <td style="background-color: red;">-</td>
                        {% else %}
                            <td>-</td>
						{% endif %}
					{% endif %}
				{% endfor %}
			</tr>
		{% endfor %}
	</table>

	<h2>Q values Table</h2>
        <table class="table table-bordered">
            <tbody>
                {% for i in range(n) %}
                    <tr>
                        {% for j in range(n) %}
                            <td>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="text-muted">up:</td>
                                            <td>{{ q_values[i*n+j][0] }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">down:</td>
                                            <td>{{ q_values[i*n+j][1] }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">left:</td>
                                            <td>{{ q_values[i*n+j][2] }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">right:</td>
                                            <td>{{ q_values[i*n+j][3] }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <div>start is {{ start }}</div>
        <div>start is {{ start[0] }}</div>
        <div>start is {{ start[1] }}</div>
        <div>start is {{ start[2] }}</div>
        <div>end is {{ end }}</div>
        <div>obstacles is {{ obstacles }}</div>
        <div>policy is {{ policy }}</div>
        


	<!-- 引入Bootstrap的JavaScript -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
